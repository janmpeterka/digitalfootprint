<script type="text/javascript">
  application.register("tab-switcher", class extends Stimulus.Controller {
    static get targets() {
      return ["tabList"]
    }

  connect() {
  }
  

  activate(event){
    console.log(event.target)
    this.activate_tab(event.target.dataset.tabName);
  }

  activate_tab(tabName){
    this.list_all_tabs().forEach(tab => tab.dataset.active = "false")
    var activated_tab = document.querySelector("[data-tab="+ tabName +"]");
    activated_tab.dataset.active = "true";

    this.list_all_tab_links().forEach(tab => tab.dataset.active = "false")
    var activated_tab_link = document.querySelector("[data-tab-name="+ tabName +"]");
    activated_tab_link.dataset.active = "true";
  }

  list_all_tabs() {
    return document.querySelectorAll(".tab")
  }

  list_all_tab_links() {
    return document.querySelectorAll(".tab-link")
  }

})
</script>
